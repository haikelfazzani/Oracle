package com.mycompany.mavenproject1;

import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.Transaction;
import org.hibernate.cfg.Configuration;
import org.hibernate.service.ServiceRegistry;
import org.hibernate.service.ServiceRegistryBuilder;

public class MainClass {
    
    public static void main(String[] args)
    {
        Student st = new Student();
        st.setName("Haikel");
        
        Configuration con = new Configuration().configure().addAnnotatedClass(Student.class);
        
        ServiceRegistryBuilder serviceRegisteryBuilder = new ServiceRegistryBuilder();
        
        ServiceRegistry serviceRegistry = serviceRegisteryBuilder
                .applySettings(con.getProperties())
                .buildServiceRegistry();
        
        SessionFactory session = con.buildSessionFactory(serviceRegistry);
        
        Session sf = session.openSession();
        
        Transaction tx = sf.beginTransaction();
        
        sf.save(st);
        
        tx.commit();
        
    }
    
}
